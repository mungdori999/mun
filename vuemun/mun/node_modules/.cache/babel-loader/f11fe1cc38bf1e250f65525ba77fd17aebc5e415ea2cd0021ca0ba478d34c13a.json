{"ast":null,"code":"import axios from \"axios\";\nimport { createStore } from 'vuex';\nimport Swal from \"sweetalert2\";\nimport axiosInstance from \"./axios/axiosinstance\";\n\n// Create a new store instance.\nconst store = createStore({\n  state() {\n    return {\n      isLogin: false,\n      mainGame: false,\n      shop: false,\n      userInfo: {}\n    };\n  },\n  mutations: {\n    setUserInfo(state, data) {\n      state.isLogin = true;\n      state.userInfo = data;\n      state.mainGame = true;\n    },\n    initUserInfo(state) {\n      state.isLogin = false;\n      state.userInfo = {};\n      state.mainGame = false;\n    },\n    getShop(state) {\n      state.mainGame = false;\n      state.shop = true;\n    },\n    getHome(state) {\n      state.mainGame = true;\n      state.shop = false;\n    }\n  },\n  actions: {\n    login({\n      dispatch\n    }, data) {\n      axios.post(\"/api/login\", {\n        email: data.email,\n        password: data.password\n      }).then(response => {\n        var accessToken = response.headers.access;\n        localStorage.setItem(\"access\", accessToken);\n        // 로그인 성공 후 받은 access 토큰과 사용자 정보 저장\n        dispatch('getUserInfo');\n      }).catch(error => {\n        // 요청 오류가 있는 경우 작업 수행\n        if (error.response.status === 401) {\n          Swal.fire({\n            title: \"로그인 오류\",\n            text: \"다시 로그인 하셈\",\n            icon: \"warning\"\n          });\n        }\n      });\n    },\n    getUserInfo({\n      commit\n    }) {\n      axiosInstance.get(\"/api/user\").then(data => {\n        if (data.status === 200) {\n          commit('setUserInfo', data.data);\n        }\n        if (data.status === 203) {\n          commit('initUserInfo');\n        }\n      }).catch(() => {\n        commit('initUserInfo');\n      });\n    },\n    signup() {}\n  }\n});\nexport default store;","map":{"version":3,"names":["axios","createStore","Swal","axiosInstance","store","state","isLogin","mainGame","shop","userInfo","mutations","setUserInfo","data","initUserInfo","getShop","getHome","actions","login","dispatch","post","email","password","then","response","accessToken","headers","access","localStorage","setItem","catch","error","status","fire","title","text","icon","getUserInfo","commit","get","signup"],"sources":["/Users/mungdori00/mun/vuemun/mun/src/store.js"],"sourcesContent":["\nimport axios from \"axios\";\nimport { createStore } from 'vuex'\nimport Swal from \"sweetalert2\";\nimport axiosInstance from \"./axios/axiosinstance\";\n\n// Create a new store instance.\nconst store = createStore({\n    state() {\n        return {\n            isLogin: false,\n            mainGame:false,\n            shop:false,\n            userInfo: {},\n        }\n    },\n\n    mutations: {\n        setUserInfo(state, data) {\n            state.isLogin = true;\n            state.userInfo = data;\n            state.mainGame = true;\n        },\n        initUserInfo(state) {\n            state.isLogin = false;\n            state.userInfo = {};\n            state.mainGame = false;\n        },\n        getShop(state) {\n            state.mainGame = false;\n            state.shop = true;\n        },\n        getHome(state) {\n            state.mainGame = true;\n            state.shop= false;\n        }\n    },\n    actions: {\n        login({ dispatch }, data) {\n            axios\n                .post(\"/api/login\", {\n                    email: data.email,\n                    password: data.password,\n                })\n                .then((response) => {\n                    var accessToken = response.headers.access;\n                    localStorage.setItem(\"access\", accessToken);\n                    // 로그인 성공 후 받은 access 토큰과 사용자 정보 저장\n                    dispatch('getUserInfo')\n                })\n                .catch((error) => {\n                    // 요청 오류가 있는 경우 작업 수행\n                    if (error.response.status === 401) {\n                        Swal.fire({\n                            title: \"로그인 오류\",\n                            text: \"다시 로그인 하셈\",\n                            icon: \"warning\",\n                        });\n                    }\n                });\n        },\n\n        getUserInfo({ commit }) {\n            axiosInstance.get(\"/api/user\").then((data) => {\n                if (data.status === 200) {\n                    commit('setUserInfo', data.data)\n                }\n                if (data.status === 203) {\n\n                    commit('initUserInfo');\n                }\n\n            })\n                .catch(\n                    () => {\n                        commit('initUserInfo');\n\n                    }\n                )\n\n        },\n\n        signup() {\n\n        }\n\n    }\n})\n\nexport default store;\n"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,MAAM;AAClC,OAAOC,IAAI,MAAM,aAAa;AAC9B,OAAOC,aAAa,MAAM,uBAAuB;;AAEjD;AACA,MAAMC,KAAK,GAAGH,WAAW,CAAC;EACtBI,KAAKA,CAAA,EAAG;IACJ,OAAO;MACHC,OAAO,EAAE,KAAK;MACdC,QAAQ,EAAC,KAAK;MACdC,IAAI,EAAC,KAAK;MACVC,QAAQ,EAAE,CAAC;IACf,CAAC;EACL,CAAC;EAEDC,SAAS,EAAE;IACPC,WAAWA,CAACN,KAAK,EAAEO,IAAI,EAAE;MACrBP,KAAK,CAACC,OAAO,GAAG,IAAI;MACpBD,KAAK,CAACI,QAAQ,GAAGG,IAAI;MACrBP,KAAK,CAACE,QAAQ,GAAG,IAAI;IACzB,CAAC;IACDM,YAAYA,CAACR,KAAK,EAAE;MAChBA,KAAK,CAACC,OAAO,GAAG,KAAK;MACrBD,KAAK,CAACI,QAAQ,GAAG,CAAC,CAAC;MACnBJ,KAAK,CAACE,QAAQ,GAAG,KAAK;IAC1B,CAAC;IACDO,OAAOA,CAACT,KAAK,EAAE;MACXA,KAAK,CAACE,QAAQ,GAAG,KAAK;MACtBF,KAAK,CAACG,IAAI,GAAG,IAAI;IACrB,CAAC;IACDO,OAAOA,CAACV,KAAK,EAAE;MACXA,KAAK,CAACE,QAAQ,GAAG,IAAI;MACrBF,KAAK,CAACG,IAAI,GAAE,KAAK;IACrB;EACJ,CAAC;EACDQ,OAAO,EAAE;IACLC,KAAKA,CAAC;MAAEC;IAAS,CAAC,EAAEN,IAAI,EAAE;MACtBZ,KAAK,CACAmB,IAAI,CAAC,YAAY,EAAE;QAChBC,KAAK,EAAER,IAAI,CAACQ,KAAK;QACjBC,QAAQ,EAAET,IAAI,CAACS;MACnB,CAAC,CAAC,CACDC,IAAI,CAAEC,QAAQ,IAAK;QAChB,IAAIC,WAAW,GAAGD,QAAQ,CAACE,OAAO,CAACC,MAAM;QACzCC,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEJ,WAAW,CAAC;QAC3C;QACAN,QAAQ,CAAC,aAAa,CAAC;MAC3B,CAAC,CAAC,CACDW,KAAK,CAAEC,KAAK,IAAK;QACd;QACA,IAAIA,KAAK,CAACP,QAAQ,CAACQ,MAAM,KAAK,GAAG,EAAE;UAC/B7B,IAAI,CAAC8B,IAAI,CAAC;YACNC,KAAK,EAAE,QAAQ;YACfC,IAAI,EAAE,WAAW;YACjBC,IAAI,EAAE;UACV,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;IACV,CAAC;IAEDC,WAAWA,CAAC;MAAEC;IAAO,CAAC,EAAE;MACpBlC,aAAa,CAACmC,GAAG,CAAC,WAAW,CAAC,CAAChB,IAAI,CAAEV,IAAI,IAAK;QAC1C,IAAIA,IAAI,CAACmB,MAAM,KAAK,GAAG,EAAE;UACrBM,MAAM,CAAC,aAAa,EAAEzB,IAAI,CAACA,IAAI,CAAC;QACpC;QACA,IAAIA,IAAI,CAACmB,MAAM,KAAK,GAAG,EAAE;UAErBM,MAAM,CAAC,cAAc,CAAC;QAC1B;MAEJ,CAAC,CAAC,CACGR,KAAK,CACF,MAAM;QACFQ,MAAM,CAAC,cAAc,CAAC;MAE1B,CACJ,CAAC;IAET,CAAC;IAEDE,MAAMA,CAAA,EAAG,CAET;EAEJ;AACJ,CAAC,CAAC;AAEF,eAAenC,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}